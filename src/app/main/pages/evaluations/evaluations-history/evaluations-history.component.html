
<div class="body-container">
  <button type="file" aria-label="add" mat-button class="btn-add" (click)="openDialog('create')">
    <mat-icon aria-label="agregar" class="icon-add">add</mat-icon>
    CREAR
  </button>

    <div>   <!-- *ngIf="improvement$ |async" -->
        <table mat-table [dataSource]="historyDataSource" class="mat-elevation-z8">
  
          <ng-container matColumnDef="workOrder">
            <th mat-header-cell *matHeaderCellDef> Orden de trabajo </th>
            <td mat-cell *matCellDef="let element"> {{(element.date.seconds * 1000) | date : 'dd/MM/yy'}} </td>
          </ng-container>
  
          <ng-container matColumnDef="operation">
            <th mat-header-cell *matHeaderCellDef>Segmento/Operacion </th>
            <td mat-cell *matCellDef="let element"> {{element.name}} </td>
          </ng-container>
          <ng-container matColumnDef="correlative">
            <th mat-header-cell *matHeaderCellDef> Correlativo </th>
            <td mat-cell *matCellDef="let element"> {{element.component}} </td>
          </ng-container>
          <ng-container matColumnDef="nPart">
            <th mat-header-cell *matHeaderCellDef>NÂ° de parte </th>
            <td mat-cell *matCellDef="let element"> {{element.model}} </td>
          </ng-container>
          <ng-container matColumnDef="description">
            <th mat-header-cell *matHeaderCellDef>Descripcion </th>
            <td mat-cell *matCellDef="let element"> {{element.criticalPart ? 'Si':'No'}} </td>
          </ng-container>
                  
          <ng-container matColumnDef="state">
            <th mat-header-cell *matHeaderCellDef> Estado </th>
            <td mat-cell *matCellDef="let element">
              <button mat-button (click)="showImprovementEntry(element)"
                [ngClass]="{'btn-state-register': element.state==='registered','btn-state-validate': element.state==='validated'}">
                {{element.state === 'registered' ? 'Registrado':'Validado'}}
              </button>
            </td>
          </ng-container>
          <ng-container matColumnDef="result">
              <th mat-header-cell *matHeaderCellDef> Resultado </th>
              <td mat-cell *matCellDef="let element"> {{element.createdBy.name}} </td>
            </ng-container>

          <ng-container matColumnDef="observations">
              <th mat-header-cell *matHeaderCellDef> Observaciones </th>
              <td mat-cell *matCellDef="let element"> {{element.createdBy.name}} </td>
            </ng-container>

          <ng-container matColumnDef="quantity">
              <th mat-header-cell *matHeaderCellDef> Cantidad </th>
              <td mat-cell *matCellDef="let element"> {{element.createdBy.name}} </td>
          </ng-container>

          <ng-container matColumnDef="workshop">
              <th mat-header-cell *matHeaderCellDef> Taller </th>
              <td mat-cell *matCellDef="let element"> {{element.createdBy.name}} </td>
          </ng-container>

          <ng-container matColumnDef="workshopAttention">
              <th mat-header-cell *matHeaderCellDef>Tipo de atencion </th>
              <td mat-cell *matCellDef="let element"> {{element.createdBy.name}} </td>
          </ng-container>

          <ng-container matColumnDef="applicationDate">
              <th mat-header-cell *matHeaderCellDef> Fecha de Solicitud </th>
              <td mat-cell *matCellDef="let element"> {{element.createdBy.name}} </td>
          </ng-container>  
            
          <tr mat-header-row *matHeaderRowDef="improvementDisplayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: improvementDisplayedColumns;"></tr>
        </table>
      </div>
      <mat-paginator #improvementPaginator class="ms-paginator" [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons>
      </mat-paginator>
    </div> 