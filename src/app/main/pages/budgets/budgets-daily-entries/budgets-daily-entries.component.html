<div class="ms-container">
  <div class="ms-toolbar">
    <mat-icon mat-list-icon class="ms-toolbar__icon">view_day</mat-icon>
    <h1
      class="ms-toolbar__title"
      [ngClass]="
        isMobile ? 'ms-toolbar__title--mobile' : 'ms-toolbar__title--desktop'
      "
    >
      Entrada diaria
    </h1>
    <input
      style="display: none"
      type="file"
      accept=".csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"
      (change)="loadFile($event.target.files)"
      #loadFileInputElement
    />
    <button
      mat-stroked-button
      class="ms-toolbar__button"
      [ngClass]="
        isMobile ? 'ms-toolbar__button--mobile' : 'ms-toolbar__button--desktop'
      "
      (click)="loadFileInputElement.click()"
    >
      <mat-icon aria-label="upload" class="icon-add">add</mat-icon>
      SUBIR ARCHIVO
    </button>
    <button
      *ngIf="budgetUploaded"
      (click)="goToBudgets()"
      mat-stroked-button
      class="ms-toolbar__button"
      [ngClass]="
        isMobile ? 'ms-toolbar__button--mobile' : 'ms-toolbar__button--desktop'
      "
    >
      <mat-icon class="icon-add">launch</mat-icon>
      IR A PRESUPUESTOS
    </button>
  </div>
  <mat-divider></mat-divider>

  <div class="body-container">
    <mat-progress-bar
      mode="indeterminate"
      *ngIf="loading$ | async"
    ></mat-progress-bar>

    <div style="overflow: auto">
      <table
        mat-table
        [dataSource]="budgetsDailyEntriesDataSource"
        matSort
        class="mat-elevation-z8"
        style="margin: 1em 1em"
      >
        <ng-container matColumnDef="checkUpgrade">
          <th mat-header-cell *matHeaderCellDef class="table__head">Monitor</th>
          <td
            mat-cell
            *matCellDef="let element; let i = index"
            class="table__cell"
          >
            <ng-container
              *ngIf="element.checkUpgrade | async as upgrade; else loadingCheck"
            >
              <div>
                <div
                  *ngIf="upgrade.isDuplicated && !element.applyUpgrade"
                  class="entry entry--duplicated"
                  matTooltip="La información de este presupuesto ya existe en la base de datos, por lo que será omitida en el proceso de carga"
                  matTooltipPosition="right"
                >
                  Duplicado {{ markAsDuplicated(i) }}
                </div>

                <div *ngIf="!upgrade.isDuplicated" class="entry entry--new">
                  Nuevo
                </div>

                <div
                  *ngIf="
                    upgrade.isDuplicated &&
                    upgrade.canUpgrade &&
                    !element.applyUpgrade
                  "
                  class="entry entry--upgrade"
                  matRipple
                  matTooltip="Hay información nueva en esta entrada. Al presionar este botón, el proceso de carga actualizará el presupuesto con esta información."
                  matTooltipPosition="right"
                  (click)="applyUpgrade(upgrade.fields, i, upgrade.budgetId)"
                >
                  Upgrade?
                </div>

                <div
                  *ngIf="
                    upgrade.isDuplicated &&
                    upgrade.canUpgrade &&
                    element.applyUpgrade
                  "
                  class="entry entry--cancel"
                  matRipple
                  matTooltip="Al presionar este boton, cancelará la actualización del presupuesto con la nueva entrada"
                  matTooltipPosition="right"
                  (click)="cancelUpgrade(i)"
                >
                  Cancelar
                </div>
              </div>
            </ng-container>
            <ng-template #loadingCheck>
              <mat-progress-bar mode="indeterminate"></mat-progress-bar>
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="taller">
          <th mat-header-cell *matHeaderCellDef class="table__head">Taller</th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div *ngIf="element.budgetDifferences?.taller; else defaultTaller">
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.taller
                    ? element.budgetDifferences.taller
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{ element.taller ? element.taller : "---" }}</span
              >
            </div>
            <ng-template #defaultTaller>
              {{ element.taller ? element.taller : "---" }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="woMain">
          <th mat-header-cell *matHeaderCellDef class="table__head">WO MAIN</th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div *ngIf="element.budgetDifferences?.woMain; else defaultWoMain">
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.woMain
                    ? element.budgetDifferences.woMain
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{ element.woMain ? element.woMain : "---" }}</span
              >
            </div>
            <ng-template #defaultWoMain>
              {{ element.woMain ? element.woMain : "---" }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="ioMain">
          <th mat-header-cell *matHeaderCellDef class="table__head">IO MAIN</th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div *ngIf="element.budgetDifferences?.ioMain; else defaultIoMain">
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.ioMain
                    ? element.budgetDifferences.ioMain
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{ element.ioMain ? element.ioMain : "---" }}</span
              >
            </div>
            <ng-template #defaultIoMain>
              {{ element.ioMain ? element.ioMain : "---" }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="woChild">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            WO CHILD
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="element.budgetDifferences?.woChild; else defaultWoChild"
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.woChild
                    ? element.budgetDifferences.woChild
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{ element.woChild ? element.woChild : "---" }}</span
              >
            </div>
            <ng-template #defaultWoChild>
              {{ element.woChild ? element.woChild : "---" }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="ioChild">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            IO CHILD
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="element.budgetDifferences?.ioChild; else defaultIoChild"
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.ioChild
                    ? element.budgetDifferences.ioChild
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{ element.ioChild ? element.ioChild : "---" }}</span
              >
            </div>
            <ng-template #defaultIoChild>
              {{ element.ioChild ? element.ioChild : "---" }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="statusWoChild">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Status WO CHILD
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.statusWoChild;
                else defaultStatusWoChild
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.statusWoChild
                    ? element.budgetDifferences.statusWoChild
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.statusWoChild ? element.statusWoChild : "---"
                }}</span
              >
            </div>
            <ng-template #defaultStatusWoChild>
              {{ element.statusWoChild ? element.statusWoChild : "---" }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="otTaller">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            OT Taller
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="element.budgetDifferences?.otTaller; else defaultOtTaller"
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.otTaller
                    ? element.budgetDifferences.otTaller
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{ element.otTaller ? element.otTaller : "---" }}</span
              >
            </div>
            <ng-template #defaultOtTaller>
              {{ element.otTaller ? element.otTaller : "---" }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="otMadre">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            OT Madre
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="element.budgetDifferences?.otMadre; else defaultOtMadre"
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.otMadre
                    ? element.budgetDifferences.otMadre
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{ element.otMadre ? element.otMadre : "---" }}</span
              >
            </div>
            <ng-template #defaultOtMadre>
              {{ element.otMadre ? element.otMadre : "---" }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="fechaAperturaChild">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Fecha apertura CHILD
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.fechaAperturaChild;
                else defaultFechaAperturaChild
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.fechaAperturaChild
                    ? (element.budgetDifferences.fechaAperturaChild.toMillis()
                      | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.fechaAperturaChild
                    ? (element.fechaAperturaChild | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultFechaAperturaChild>
              {{
                element.fechaAperturaChild
                  ? (element.fechaAperturaChild | date: "dd/MM/yyyy")
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="fechaReleasedIoChild">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Fecha released CHILD
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.fechaReleasedIoChild;
                else defaultFechaReleasedIoChild
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.fechaReleasedIoChild
                    ? (element.budgetDifferences.fechaReleasedIoChild.toMillis()
                      | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.fechaReleasedIoChild
                    ? (element.fechaReleasedIoChild | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultFechaReleasedIoChild>
              {{
                element.fechaReleasedIoChild
                  ? (element.fechaReleasedIoChild | date: "dd/MM/yyyy")
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="cliente">
          <th mat-header-cell *matHeaderCellDef class="table__head">Cliente</th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="element.budgetDifferences?.cliente; else defaultCliente"
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.cliente
                    ? element.budgetDifferences.cliente
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{ element.cliente ? element.cliente : "---" }}</span
              >
            </div>
            <ng-template #defaultCliente>
              {{ element.cliente ? element.cliente : "---" }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="gmorngm">
          <th mat-header-cell *matHeaderCellDef class="table__head">GM/NGM</th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="element.budgetDifferences?.gmorngm; else defaultGmorngm"
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.gmorngm
                    ? element.budgetDifferences.gmorngm
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{ element.gmorngm ? element.gmorngm : "---" }}</span
              >
            </div>
            <ng-template #defaultGmorngm>
              {{ element.gmorngm ? element.gmorngm : "---" }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="modelo">
          <th mat-header-cell *matHeaderCellDef class="table__head">Modelo</th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div *ngIf="element.budgetDifferences?.modelo; else defaultModelo">
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.modelo
                    ? element.budgetDifferences.modelo
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{ element.modelo ? element.modelo : "---" }}</span
              >
            </div>
            <ng-template #defaultModelo>
              {{ element.modelo ? element.modelo : "---" }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="tipoSS">
          <th mat-header-cell *matHeaderCellDef class="table__head">Tipo SS</th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div *ngIf="element.budgetDifferences?.tipoSS; else defaultTipoSS">
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.tipoSS
                    ? element.budgetDifferences.tipoSS
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{ element.tipoSS ? element.tipoSS : "---" }}</span
              >
            </div>
            <ng-template #defaultTipoSS>
              {{ element.tipoSS ? element.tipoSS : "---" }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="servicio">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Servicio
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="element.budgetDifferences?.servicio; else defaultServicio"
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.servicio
                    ? element.budgetDifferences.servicio
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{ element.servicio ? element.servicio : "---" }}</span
              >
            </div>
            <ng-template #defaultServicio>
              {{ element.servicio ? element.servicio : "---" }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="tipoAtencion">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Tipo atención
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.tipoAtencion;
                else defaultTipoAtencion
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.tipoAtencion
                    ? element.budgetDifferences.tipoAtencion
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{ element.tipoAtencion ? element.tipoAtencion : "---" }}</span
              >
            </div>
            <ng-template #defaultTipoAtencion>
              {{ element.tipoAtencion ? element.tipoAtencion : "---" }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="modalidadPresupuesto">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Modalidad presupuesto
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.modalidadPresupuesto;
                else defaultModalidadPresupuesto
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.modalidadPresupuesto
                    ? element.budgetDifferences.modalidadPresupuesto
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.modalidadPresupuesto
                    ? element.modalidadPresupuesto
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultModalidadPresupuesto>
              {{
                element.modalidadPresupuesto
                  ? element.modalidadPresupuesto
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="componente">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Componente
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.componente;
                else defaultComponente
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.componente
                    ? element.budgetDifferences.componente
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{ element.componente ? element.componente : "---" }}</span
              >
            </div>
            <ng-template #defaultComponente>
              {{ element.componente ? element.componente : "---" }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="afa">
          <th mat-header-cell *matHeaderCellDef class="table__head">AFA</th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div *ngIf="element.budgetDifferences?.afa; else defaultAfa">
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.afa
                    ? element.budgetDifferences.afa
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{ element.afa ? element.afa : "---" }}</span
              >
            </div>
            <ng-template #defaultAfa>
              {{ element.afa ? element.afa : "---" }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="fechaUltimoListado">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Fecha último listado
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.fechaUltimoListado;
                else defaultFechaUltimoListado
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.fechaUltimoListado
                    ? (element.budgetDifferences.fechaUltimoListado.toMillis()
                      | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.fechaUltimoListado
                    ? (element.fechaUltimoListado | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultFechaUltimoListado>
              {{
                element.fechaUltimoListado
                  ? (element.fechaUltimoListado | date: "dd/MM/yyyy")
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="fechaUltimoEnvioDocumentoADM">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Fecha último envío dcto (ADM)
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.fechaUltimoEnvioDocumentoADM;
                else defaultFechaUltimoEnvioDocumentoADM
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.fechaUltimoEnvioDocumentoADM
                    ? (element.budgetDifferences.fechaUltimoEnvioDocumentoADM.toMillis()
                      | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.fechaUltimoEnvioDocumentoADM
                    ? (element.fechaUltimoEnvioDocumentoADM
                      | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultFechaUltimoEnvioDocumentoADM>
              {{
                element.fechaUltimoEnvioDocumentoADM
                  ? (element.fechaUltimoEnvioDocumentoADM | date: "dd/MM/yyyy")
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="ultimoDocumento">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Último dcto.
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.ultimoDocumento;
                else defaultUltimoDocumento
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.ultimoDocumento
                    ? element.budgetDifferences.ultimoDocumento
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.ultimoDocumento ? element.ultimoDocumento : "---"
                }}</span
              >
            </div>
            <ng-template #defaultUltimoDocumento>
              {{ element.ultimoDocumento ? element.ultimoDocumento : "---" }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="fechaDefinicionDeCargos">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Fecha defin. cargos
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.fechaDefinicionDeCargos;
                else defaultFechaDefinicionDeCargos
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.fechaDefinicionDeCargos
                    ? (element.budgetDifferences.fechaDefinicionDeCargos.toMillis()
                      | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.fechaDefinicionDeCargos
                    ? (element.fechaDefinicionDeCargos | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultFechaDefinicionDeCargos>
              {{
                element.fechaDefinicionDeCargos
                  ? (element.fechaDefinicionDeCargos | date: "dd/MM/yyyy")
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="definicionDeCargo">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Definición de cargo
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.definicionDeCargo;
                else defaultDefinicionDeCargo
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.definicionDeCargo
                    ? element.budgetDifferences.definicionDeCargo
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.definicionDeCargo ? element.definicionDeCargo : "---"
                }}</span
              >
            </div>
            <ng-template #defaultDefinicionDeCargo>
              {{
                element.definicionDeCargo ? element.definicionDeCargo : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="fechaUltimoEnvioPPTO">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Fecha último envío PPTO
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.fechaUltimoEnvioPPTO;
                else defaultFechaUltimoEnvioPPTO
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.fechaUltimoEnvioPPTO
                    ? (element.budgetDifferences.fechaUltimoEnvioPPTO.toMillis()
                      | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.fechaUltimoEnvioPPTO
                    ? (element.fechaUltimoEnvioPPTO | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultFechaUltimoEnvioPPTO>
              {{
                element.fechaUltimoEnvioPPTO
                  ? (element.fechaUltimoEnvioPPTO | date: "dd/MM/yyyy")
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="fechaEnvioPPTO01">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Fecha envío PPTO 01
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.fechaEnvioPPTO01;
                else defaultFechaEnvioPPTO01
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.fechaEnvioPPTO01
                    ? (element.budgetDifferences.fechaEnvioPPTO01.toMillis()
                      | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.fechaEnvioPPTO01
                    ? (element.fechaEnvioPPTO01 | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultFechaEnvioPPTO01>
              {{
                element.fechaEnvioPPTO01
                  ? (element.fechaEnvioPPTO01 | date: "dd/MM/yyyy")
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="fechaEnvioPPTO02">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Fecha envío PPTO 02
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.fechaEnvioPPTO02;
                else defaultFechaEnvioPPTO02
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.fechaEnvioPPTO02
                    ? (element.budgetDifferences.fechaEnvioPPTO02.toMillis()
                      | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.fechaEnvioPPTO02
                    ? (element.fechaEnvioPPTO02 | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultFechaEnvioPPTO02>
              {{
                element.fechaEnvioPPTO02
                  ? (element.fechaEnvioPPTO02 | date: "dd/MM/yyyy")
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="motivoDeModificacion02">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Motivo de modificación 02
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.motivoDeModificacion02;
                else defaultMotivoDeModificacion02
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.motivoDeModificacion02
                    ? element.budgetDifferences.motivoDeModificacion02
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.motivoDeModificacion02
                    ? element.motivoDeModificacion02
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultMotivoDeModificacion02>
              {{
                element.motivoDeModificacion02
                  ? element.motivoDeModificacion02
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="detalleDeModificacion02">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Detalle de modificación 02
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.detalleDeModificacion02;
                else defaultDetalleDeModificacion02
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.detalleDeModificacion02
                    ? element.budgetDifferences.detalleDeModificacion02
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.detalleDeModificacion02
                    ? element.detalleDeModificacion02
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultDetalleDeModificacion02>
              {{
                element.detalleDeModificacion02
                  ? element.detalleDeModificacion02
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="fechaEnvioPPTO03">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Fecha envío PPTO 03
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.fechaEnvioPPTO03;
                else defaultFechaEnvioPPTO03
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.fechaEnvioPPTO03
                    ? (element.budgetDifferences.fechaEnvioPPTO03.toMillis()
                      | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.fechaEnvioPPTO03
                    ? (element.fechaEnvioPPTO03 | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultFechaEnvioPPTO03>
              {{
                element.fechaEnvioPPTO03
                  ? (element.fechaEnvioPPTO03 | date: "dd/MM/yyyy")
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="motivoDeModificacion03">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Motivo de modificación 03
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.motivoDeModificacion03;
                else defaultMotivoDeModificacion03
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.motivoDeModificacion03
                    ? element.budgetDifferences.motivoDeModificacion03
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.motivoDeModificacion03
                    ? element.motivoDeModificacion03
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultMotivoDeModificacion03>
              {{
                element.motivoDeModificacion03
                  ? element.motivoDeModificacion03
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="detalleDeModificacion03">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            DETALLE DE MODIFICACION 03
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.detalleDeModificacion03;
                else defaultDetalleDeModificacion03
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.detalleDeModificacion03
                    ? element.budgetDifferences.detalleDeModificacion03
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.detalleDeModificacion03
                    ? element.detalleDeModificacion03
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultDetalleDeModificacion03>
              {{
                element.detalleDeModificacion03
                  ? element.detalleDeModificacion03
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="fechaEnvioPPTO04">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Fecha envío PPTO 04
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.fechaEnvioPPTO04;
                else defaultFechaEnvioPPTO04
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.fechaEnvioPPTO04
                    ? (element.budgetDifferences.fechaEnvioPPTO04.toMillis()
                      | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.fechaEnvioPPTO04
                    ? (element.fechaEnvioPPTO04 | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultFechaEnvioPPTO04>
              {{
                element.fechaEnvioPPTO04
                  ? (element.fechaEnvioPPTO04 | date: "dd/MM/yyyy")
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="motivoDeModificacion04">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Motivo de modificación 04
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.motivoDeModificacion04;
                else defaultMotivoDeModificacion04
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.motivoDeModificacion04
                    ? element.budgetDifferences.motivoDeModificacion04
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.motivoDeModificacion04
                    ? element.motivoDeModificacion04
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultMotivoDeModificacion04>
              {{
                element.motivoDeModificacion04
                  ? element.motivoDeModificacion04
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="detalleDeModificacion04">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Detalle de modificación 04
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.detalleDeModificacion04;
                else defaultDetalleDeModificacion04
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.detalleDeModificacion04
                    ? element.budgetDifferences.detalleDeModificacion04
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.detalleDeModificacion04
                    ? element.detalleDeModificacion04
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultDetalleDeModificacion04>
              {{
                element.detalleDeModificacion04
                  ? element.detalleDeModificacion04
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="fechaDeAprobacionORechazo">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Fecha aprob. o rechazo
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.fechaDeAprobacionORechazo;
                else defaultFechaDeAprobacionORechazo
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.fechaDeAprobacionORechazo
                    ? (element.budgetDifferences.fechaDeAprobacionORechazo.toMillis()
                      | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.fechaDeAprobacionORechazo
                    ? (element.fechaDeAprobacionORechazo | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultFechaDeAprobacionORechazo>
              {{
                element.fechaDeAprobacionORechazo
                  ? (element.fechaDeAprobacionORechazo | date: "dd/MM/yyyy")
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="statusPresupuesto">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Status PPTO
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.statusPresupuesto;
                else defaultStatusPresupuesto
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.statusPresupuesto
                    ? element.budgetDifferences.statusPresupuesto
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.statusPresupuesto ? element.statusPresupuesto : "---"
                }}</span
              >
            </div>
            <ng-template #defaultStatusPresupuesto>
              {{
                element.statusPresupuesto ? element.statusPresupuesto : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="motivoDelRechazo">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Motivo de rechazo
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.motivoDelRechazo;
                else defaultMotivoDelRechazo
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.motivoDelRechazo
                    ? element.budgetDifferences.motivoDelRechazo
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.motivoDelRechazo ? element.motivoDelRechazo : "---"
                }}</span
              >
            </div>
            <ng-template #defaultMotivoDelRechazo>
              {{ element.motivoDelRechazo ? element.motivoDelRechazo : "---" }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="detalleDelRechazo">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Detalle de rechazo
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.detalleDelRechazo;
                else defaultDetalleDelRechazo
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.detalleDelRechazo
                    ? element.budgetDifferences.detalleDelRechazo
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.detalleDelRechazo ? element.detalleDelRechazo : "---"
                }}</span
              >
            </div>
            <ng-template #defaultDetalleDelRechazo>
              {{
                element.detalleDelRechazo ? element.detalleDelRechazo : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="vv$servicios">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            VV$ Servicios
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.vv$servicios;
                else defaultVv$servicios
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.vv$servicios
                    ? element.budgetDifferences.vv$servicios
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{ element.vv$servicios ? element.vv$servicios : "---" }}</span
              >
            </div>
            <ng-template #defaultVv$servicios>
              {{ element.vv$servicios ? element.vv$servicios : "---" }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="vv$adicionalesServicios">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            VV$ Adicionales Servicios
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.vv$adicionalesServicios;
                else defaultVv$adicionalesServicios
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.vv$adicionalesServicios
                    ? element.budgetDifferences.vv$adicionalesServicios
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.vv$adicionalesServicios
                    ? element.vv$adicionalesServicios
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultVv$adicionalesServicios>
              {{
                element.vv$adicionalesServicios
                  ? element.vv$adicionalesServicios
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="vv$descuentoServicios">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            VV$ Dsctos. Servicios
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.vv$descuentoServicios;
                else defaultVv$descuentoServicios
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.vv$descuentoServicios
                    ? element.budgetDifferences.vv$descuentoServicios
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.vv$descuentoServicios
                    ? element.vv$descuentoServicios
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultVv$descuentoServicios>
              {{
                element.vv$descuentoServicios
                  ? element.vv$descuentoServicios
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="vv$repuestos">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            VV$ Repuestos
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            {{ element.vv$repuestos ? element.vv$repuestos : "---" }}
          </td>
        </ng-container>

        <ng-container matColumnDef="vv$adicionalesRepuestos">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            VV$ Adicional Repuestos
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.vv$adicionalesRepuestos;
                else defaultVv$adicionalesRepuestos
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.vv$adicionalesRepuestos
                    ? element.budgetDifferences.vv$adicionalesRepuestos
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.vv$adicionalesRepuestos
                    ? element.vv$adicionalesRepuestos
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultVv$adicionalesRepuestos>
              {{
                element.vv$adicionalesRepuestos
                  ? element.vv$adicionalesRepuestos
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="vv$descuentoRepuestos">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            VV$ Dsctos. Repuestos
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.vv$descuentoRepuestos;
                else defaultVv$descuentoRepuestos
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.vv$descuentoRepuestos
                    ? element.budgetDifferences.vv$descuentoRepuestos
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.vv$descuentoRepuestos
                    ? element.vv$descuentoRepuestos
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultVv$descuentoRepuestos>
              {{
                element.vv$descuentoRepuestos
                  ? element.vv$descuentoRepuestos
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="totalvvPPTOUS$">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Total VV PPTO US$
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.totalvvPPTOUS$;
                else defaultTotalvvPPTOUS$
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.totalvvPPTOUS$
                    ? element.budgetDifferences.totalvvPPTOUS$
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.totalvvPPTOUS$ ? element.totalvvPPTOUS$ : "---"
                }}</span
              >
            </div>
            <ng-template #defaultTotalvvPPTOUS$>
              {{ element.totalvvPPTOUS$ ? element.totalvvPPTOUS$ : "---" }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="$componenteNuevo">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            $ Componente nuevo
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.$componenteNuevo;
                else default$componenteNuevo
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.$componenteNuevo
                    ? element.budgetDifferences.$componenteNuevo
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.$componenteNuevo ? element.$componenteNuevo : "---"
                }}</span
              >
            </div>
            <ng-template #default$componenteNuevo>
              {{ element.$componenteNuevo ? element.$componenteNuevo : "---" }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="reparacion60">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            % Reparación (60%)
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.reparacion60;
                else defaultReparacion60
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.reparacion60
                    ? element.budgetDifferences.reparacion60
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{ element.reparacion60 ? element.reparacion60 : "---" }}</span
              >
            </div>
            <ng-template #defaultReparacion60>
              {{ element.reparacion60 ? element.reparacion60 : "---" }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="horasSTD">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Horas STD
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="element.budgetDifferences?.horasSTD; else defaultHorasSTD"
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.horasSTD
                    ? element.budgetDifferences.horasSTD
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{ element.horasSTD ? element.horasSTD : "---" }}</span
              >
            </div>
            <ng-template #defaultHorasSTD>
              {{ element.horasSTD ? element.horasSTD : "---" }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="horasReales">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Horas reales
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.horasReales;
                else defaultHorasReales
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.horasReales
                    ? element.budgetDifferences.horasReales
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{ element.horasReales ? element.horasReales : "---" }}</span
              >
            </div>
            <ng-template #defaultHorasReales>
              {{ element.horasReales ? element.horasReales : "---" }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="tiempoObjetivoEnvioPPTO">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Tiempo objetivo envío PPTO
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.tiempoObjetivoEnvioPPTO;
                else defaultTiempoObjetivoEnvioPPTO
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.tiempoObjetivoEnvioPPTO
                    ? (element.budgetDifferences.tiempoObjetivoEnvioPPTO.toMillis()
                      | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.tiempoObjetivoEnvioPPTO
                    ? (element.tiempoObjetivoEnvioPPTO | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultTiempoObjetivoEnvioPPTO>
              {{
                element.tiempoObjetivoEnvioPPTO
                  ? (element.tiempoObjetivoEnvioPPTO | date: "dd/MM/yyyy")
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="diasRestantesEnvioPPTO">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Días restantes envío PPTO
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.diasRestantesEnvioPPTO;
                else defaultDiasRestantesEnvioPPTO
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.diasRestantesEnvioPPTO
                    ? element.budgetDifferences.diasRestantesEnvioPPTO
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.diasRestantesEnvioPPTO
                    ? element.diasRestantesEnvioPPTO
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultDiasRestantesEnvioPPTO>
              {{
                element.diasRestantesEnvioPPTO
                  ? element.diasRestantesEnvioPPTO
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="NoPPTOSModificadosOAdicionales">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            N° PPTO's modif. o adicinales
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.NoPPTOSModificadosOAdicionales;
                else defaultNoPPTOSModificadosOAdicionales
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.NoPPTOSModificadosOAdicionales
                    ? element.budgetDifferences.NoPPTOSModificadosOAdicionales
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.NoPPTOSModificadosOAdicionales
                    ? element.NoPPTOSModificadosOAdicionales
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultNoPPTOSModificadosOAdicionales>
              {{
                element.NoPPTOSModificadosOAdicionales
                  ? element.NoPPTOSModificadosOAdicionales
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="observacionesEnElPresupuesto">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Obs. en el PPTO
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.observacionesEnElPresupuesto;
                else defaultObservacionesEnElPresupuesto
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.observacionesEnElPresupuesto
                    ? element.budgetDifferences.observacionesEnElPresupuesto
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.observacionesEnElPresupuesto
                    ? element.observacionesEnElPresupuesto
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultObservacionesEnElPresupuesto>
              {{
                element.observacionesEnElPresupuesto
                  ? element.observacionesEnElPresupuesto
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="fechaDeTerminoDeRep">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Fecha de término de rep.
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.fechaDeTerminoDeRep;
                else defaultFechaDeTerminoDeRep
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.fechaDeTerminoDeRep
                    ? (element.budgetDifferences.fechaDeTerminoDeRep.toMillis()
                      | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.fechaDeTerminoDeRep
                    ? (element.fechaDeTerminoDeRep | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultFechaDeTerminoDeRep>
              {{
                element.fechaDeTerminoDeRep
                  ? (element.fechaDeTerminoDeRep | date: "dd/MM/yyyy")
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="fechaUltimoInput">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Fecha último Input
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.fechaUltimoInput;
                else defaultFechaUltimoInput
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.fechaUltimoInput
                    ? (element.budgetDifferences.fechaUltimoInput.toMillis()
                      | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.fechaUltimoInput
                    ? (element.fechaUltimoInput | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultFechaUltimoInput>
              {{
                element.fechaUltimoInput
                  ? (element.fechaUltimoInput | date: "dd/MM/yyyy")
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="motivoDeInput">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Motivo de Input
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.motivoDeInput;
                else defaultMotivoDeInput
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.motivoDeInput
                    ? element.budgetDifferences.motivoDeInput
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.motivoDeInput ? element.motivoDeInput : "---"
                }}</span
              >
            </div>
            <ng-template #defaultMotivoDeInput>
              {{ element.motivoDeInput ? element.motivoDeInput : "---" }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="fechaDeFactDeTaller">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Fecha de fact. Taller
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.fechaDeFactDeTaller;
                else defaultFechaDeFactDeTaller
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.fechaDeFactDeTaller
                    ? (element.budgetDifferences.fechaDeFactDeTaller.toMillis()
                      | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.fechaDeFactDeTaller
                    ? (element.fechaDeFactDeTaller | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultFechaDeFactDeTaller>
              {{
                element.fechaDeFactDeTaller
                  ? (element.fechaDeFactDeTaller | date: "dd/MM/yyyy")
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="costo$ServiciosCliente">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Costo $ servicios cliente
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.costo$ServiciosCliente;
                else defaultCosto$ServiciosCliente
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.costo$ServiciosCliente
                    ? element.budgetDifferences.costo$ServiciosCliente
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.costo$ServiciosCliente
                    ? element.costo$ServiciosCliente
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultCosto$ServiciosCliente>
              {{
                element.costo$ServiciosCliente
                  ? element.costo$ServiciosCliente
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="costo$ServiciosDeOperacion">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Costo $ servicios opereración
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.costo$ServiciosDeOperacion;
                else defaultCosto$ServiciosDeOperacion
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.costo$ServiciosDeOperacion
                    ? element.budgetDifferences.costo$ServiciosDeOperacion
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.costo$ServiciosDeOperacion
                    ? element.costo$ServiciosDeOperacion
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultCosto$ServiciosDeOperacion>
              {{
                element.costo$ServiciosDeOperacion
                  ? element.costo$ServiciosDeOperacion
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="rentabilidadServiciosPercent">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Rentabilidad servicios 100%
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.rentabilidadServiciosPercent;
                else defaultRentabilidadServiciosPercent
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.rentabilidadServiciosPercent
                    ? element.budgetDifferences.rentabilidadServiciosPercent
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.rentabilidadServiciosPercent
                    ? element.rentabilidadServiciosPercent
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultRentabilidadServiciosPercent>
              {{
                element.rentabilidadServiciosPercent
                  ? element.rentabilidadServiciosPercent
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="costo$RepuestosCLIENTE">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Costo $ repuestos cliente
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.costo$RepuestosCLIENTE;
                else defaultCosto$RepuestosCLIENTE
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.costo$RepuestosCLIENTE
                    ? element.budgetDifferences.costo$RepuestosCLIENTE
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.costo$RepuestosCLIENTE
                    ? element.costo$RepuestosCLIENTE
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultCosto$RepuestosCLIENTE>
              {{
                element.costo$RepuestosCLIENTE
                  ? element.costo$RepuestosCLIENTE
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="costo$RepuestosOperacion">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Costo $ repuestos oper.
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.costo$RepuestosOperacion;
                else defaultCosto$RepuestosOperacion
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.costo$RepuestosOperacion
                    ? element.budgetDifferences.costo$RepuestosOperacion
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.costo$RepuestosOperacion
                    ? element.costo$RepuestosOperacion
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultCosto$RepuestosOperacion>
              {{
                element.costo$RepuestosOperacion
                  ? element.costo$RepuestosOperacion
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="rentabilidadRepuestosPercent">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Rentabilidad repuestos 100%
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.rentabilidadRepuestosPercent;
                else defaultRentabilidadRepuestosPercent
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.rentabilidadRepuestosPercent
                    ? element.budgetDifferences.rentabilidadRepuestosPercent
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.rentabilidadRepuestosPercent
                    ? element.rentabilidadRepuestosPercent
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultRentabilidadRepuestosPercent>
              {{
                element.rentabilidadRepuestosPercent
                  ? element.rentabilidadRepuestosPercent
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="observacionesTaller">
          <th
            mat-header-cell
            *matHeaderCellDef
            class="table__cell observaciones-taller"
          >
            Observaciones taller
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.observacionesTaller;
                else defaultObservacionesTaller
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.observacionesTaller
                    ? element.budgetDifferences.observacionesTaller
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.observacionesTaller
                    ? element.observacionesTaller
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultObservacionesTaller>
              {{
                element.observacionesTaller
                  ? element.observacionesTaller
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="realDevueltoAServicios">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Real devuelto a servicios
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.realDevueltoAServicios;
                else defaultRealDevueltoAServicios
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.realDevueltoAServicios
                    ? element.budgetDifferences.realDevueltoAServicios
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.realDevueltoAServicios
                    ? element.realDevueltoAServicios
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultRealDevueltoAServicios>
              {{
                element.realDevueltoAServicios
                  ? element.realDevueltoAServicios
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="diferenciaServicios">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Diferencia servicios
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.diferenciaServicios;
                else defaultDiferenciaServicios
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.diferenciaServicios
                    ? element.budgetDifferences.diferenciaServicios
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.diferenciaServicios
                    ? element.diferenciaServicios
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultDiferenciaServicios>
              {{
                element.diferenciaServicios
                  ? element.diferenciaServicios
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="realDevueltoARepuestos">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Real devuelto a repuestos
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.realDevueltoARepuestos;
                else defaultRealDevueltoARepuestos
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.realDevueltoARepuestos
                    ? element.budgetDifferences.realDevueltoARepuestos
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.realDevueltoARepuestos
                    ? element.realDevueltoARepuestos
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultRealDevueltoARepuestos>
              {{
                element.realDevueltoARepuestos
                  ? element.realDevueltoARepuestos
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="diferenciaRepuestos">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Diferencia repuestos
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.diferenciaRepuestos;
                else defaultDiferenciaRepuestos
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.diferenciaRepuestos
                    ? element.budgetDifferences.diferenciaRepuestos
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.diferenciaRepuestos
                    ? element.diferenciaRepuestos
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultDiferenciaRepuestos>
              {{
                element.diferenciaRepuestos
                  ? element.diferenciaRepuestos
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="totalVVFacturadoUS$">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Total facturado US$
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.totalVVFacturadoUS$;
                else defaultTotalVVFacturadoUS$
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.totalVVFacturadoUS$
                    ? element.budgetDifferences.totalVVFacturadoUS$
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.totalVVFacturadoUS$
                    ? element.totalVVFacturadoUS$
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultTotalVVFacturadoUS$>
              {{
                element.totalVVFacturadoUS$
                  ? element.totalVVFacturadoUS$
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="mesFactVenta">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Mes Fact. Venta
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.mesFactVenta;
                else defaultMesFactVenta
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.mesFactVenta
                    ? (element.budgetDifferences.mesFactVenta.toMillis()
                      | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.mesFactVenta
                    ? (element.mesFactVenta | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultMesFactVenta>
              {{
                element.mesFactVenta
                  ? (element.mesFactVenta | date: "dd/MM/yyyy")
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="percentHorasSTDvsHorasDBS">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            % Horas STD VS Horas DBS
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.percentHorasSTDvsHorasDBS;
                else defaultPercentHorasSTDvsHorasDBS
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.percentHorasSTDvsHorasDBS
                    ? element.budgetDifferences.percentHorasSTDvsHorasDBS
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.percentHorasSTDvsHorasDBS
                    ? element.percentHorasSTDvsHorasDBS
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultPercentHorasSTDvsHorasDBS>
              {{
                element.percentHorasSTDvsHorasDBS
                  ? element.percentHorasSTDvsHorasDBS
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="fechaFirstLabour">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Fecha First Labor
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.fechaFirstLabour;
                else defaultFechaFirstLabour
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.fechaFirstLabour
                    ? (element.budgetDifferences.fechaFirstLabour.toMillis()
                      | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.fechaFirstLabour
                    ? (element.fechaFirstLabour | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultFechaFirstLabour>
              {{
                element.fechaFirstLabour
                  ? (element.fechaFirstLabour | date: "dd/MM/yyyy")
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="fechaLastLabour">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Fecha Last Labor
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.fechaLastLabour;
                else defaultFechaLastLabour
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.fechaLastLabour
                    ? (element.budgetDifferences.fechaLastLabour.toMillis()
                      | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.fechaLastLabour
                    ? (element.fechaLastLabour | date: "dd/MM/yyyy")
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultFechaLastLabour>
              {{
                element.fechaLastLabour
                  ? (element.fechaLastLabour | date: "dd/MM/yyyy")
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="diasDemoraFact">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Días demora Fact.
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.diasDemoraFact;
                else defaultDiasDemoraFact
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.diasDemoraFact
                    ? element.budgetDifferences.diasDemoraFact
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.diasDemoraFact ? element.diasDemoraFact : "---"
                }}</span
              >
            </div>
            <ng-template #defaultDiasDemoraFact>
              {{ element.diasDemoraFact ? element.diasDemoraFact : "---" }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="diasFactLastLabour">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Días Fact. Last Labor
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.diasFactLastLabour;
                else defaultDiasFactLastLabour
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.diasFactLastLabour
                    ? element.budgetDifferences.diasFactLastLabour
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.diasFactLastLabour
                    ? element.diasFactLastLabour
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultDiasFactLastLabour>
              {{
                element.diasFactLastLabour ? element.diasFactLastLabour : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="elaborarPPTO">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Elaborar PPTO
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.elaborarPPTO;
                else defaultElaborarPPTO
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.elaborarPPTO
                    ? element.budgetDifferences.elaborarPPTO
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{ element.elaborarPPTO ? element.elaborarPPTO : "---" }}</span
              >
            </div>
            <ng-template #defaultElaborarPPTO>
              {{ element.elaborarPPTO ? element.elaborarPPTO : "---" }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="tipoDeComponente">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Tipo de componente
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.tipoDeComponente;
                else defaultTipoDeComponente
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.tipoDeComponente
                    ? element.budgetDifferences.tipoDeComponente
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.tipoDeComponente ? element.tipoDeComponente : "---"
                }}</span
              >
            </div>
            <ng-template #defaultTipoDeComponente>
              {{ element.tipoDeComponente ? element.tipoDeComponente : "---" }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="tipoAAorPandP">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Tipo (AA//P&P)
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.tipoAAorPandP;
                else defaultTipoAAorPandP
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.tipoAAorPandP
                    ? element.budgetDifferences.tipoAAorPandP
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.tipoAAorPandP ? element.tipoAAorPandP : "---"
                }}</span
              >
            </div>
            <ng-template #defaultTipoAAorPandP>
              {{ element.tipoAAorPandP ? element.tipoAAorPandP : "---" }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="taller02">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Taller 02
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="element.budgetDifferences?.taller02; else defaultTaller02"
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.taller02
                    ? element.budgetDifferences.taller02
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{ element.taller02 ? element.taller02 : "---" }}</span
              >
            </div>
            <ng-template #defaultTaller02>
              {{ element.taller02 ? element.taller02 : "---" }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="diasDesdeAperturaChild">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Días desde apertura CHILD
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            <div
              *ngIf="
                element.budgetDifferences?.diasDesdeAperturaChild;
                else defaultDiasDesdeAperturaChild
              "
            >
              <span class="upgrade upgrade--replaced" matTooltip="Base de datos"
                ><mat-icon>dns</mat-icon
                >{{
                  element.budgetDifferences.diasDesdeAperturaChild
                    ? element.budgetDifferences.diasDesdeAperturaChild
                    : "---"
                }}</span
              ><br />
              <span class="upgrade upgrade--replacement" matTooltip="Excel"
                ><mat-icon>post_add</mat-icon
                >{{
                  element.diasDesdeAperturaChild
                    ? element.diasDesdeAperturaChild
                    : "---"
                }}</span
              >
            </div>
            <ng-template #defaultDiasDesdeAperturaChild>
              {{
                element.diasDesdeAperturaChild
                  ? element.diasDesdeAperturaChild
                  : "---"
              }}
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="resumen">
          <th mat-header-cell *matHeaderCellDef class="table__head">Resumen</th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            
            <div *ngIf="isString(element.resumen)">
              {{element.resumen}}
            </div>

            <div *ngIf="element.resumen === null">
                  ---
            </div>

            <div *ngIf="isNumber(element.resumen)">
                  {{element.resumen.toMillis() | date: "dd/MM/yyyy"}}
            </div>

          </td>
        </ng-container>

        <ng-container matColumnDef="definicionDeCargos">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            DEFINICION DE CARGOS
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            {{
              element.definicionDeCargos ? element.definicionDeCargos : "---"
            }}
          </td>
        </ng-container>

        <ng-container matColumnDef="informe">
          <th mat-header-cell *matHeaderCellDef class="table__head">Informe</th>
          <td mat-cell *matCellDef="let element" class="table__cell">          
               
            <div *ngIf="isString(element.informe)">
              {{element.informe}}
            </div>

            <div *ngIf="element.informe === null">
                  ---
            </div>

            <div *ngIf="isNumber(element.informe)">
                  {{element.informe.toMillis() | date: "dd/MM/yyyy"}}
            </div>

          </td>
        </ng-container>

        <ng-container matColumnDef="cotizacionFesa">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Cotización FESA
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">

            <div *ngIf="isString(element.cotizacionFesa)">
                 {{element.cotizacionFesa}}
            </div>

            <div *ngIf="element.cotizacionFesa === null">
                 ---
            </div>

            <div *ngIf="isNumber(element.cotizacionFesa)">
                 {{element.cotizacionFesa.toMillis() | date: "dd/MM/yyyy"}}
            </div>
          
          </td>
        </ng-container>

        <ng-container matColumnDef="cotizacionText">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Cotización TEXT
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
              
            <div *ngIf="isString(element.cotizacionText)">
              {{element.cotizacionText}}
            </div>

            <div *ngIf="element.cotizacionText === null">
                  ---
            </div>

            <div *ngIf="isNumber(element.cotizacionText)">
                  {{element.cotizacionText.toMillis() | date: "dd/MM/yyyy"}}
            </div>

          </td>
        </ng-container>

        <ng-container matColumnDef="statusFacturacion">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            STATUS FACTURACIÓN
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            {{ element.statusFacturacion ? element.statusFacturacion : "---" }}
          </td>
        </ng-container>

        <!-- <ng-container matColumnDef="excelid">
          <th mat-header-cell *matHeaderCellDef class="table__head">ID</th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            {{ element.excelid ? element.excelid : "---" }}
          </td>
        </ng-container>

        <ng-container matColumnDef="clave">
          <th mat-header-cell *matHeaderCellDef class="table__head">CLAVE</th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            {{ element.clave ? element.clave : "---" }}
          </td>
        </ng-container>

        <ng-container matColumnDef="obj">
          <th mat-header-cell *matHeaderCellDef class="table__head">OBJ</th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            {{ element.obj ? element.obj : "---" }}
          </td>
        </ng-container>

        <ng-container matColumnDef="diasPPTO">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            DIAS PPTO
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            {{ element.diasPPTO ? element.diasPPTO : "---" }}
          </td>
        </ng-container>

        <ng-container matColumnDef="mesTer">
          <th mat-header-cell *matHeaderCellDef class="table__head">MES TER</th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            {{ element.mesTer ? element.mesTer : "---" }}
          </td>
        </ng-container>

        <ng-container matColumnDef="anio">
          <th mat-header-cell *matHeaderCellDef class="table__head">AÑO</th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            {{ element.anio ? element.anio : "---" }}
          </td>
        </ng-container>

        <ng-container matColumnDef="fechaLPD">
          <th mat-header-cell *matHeaderCellDef class="table__head">
            FECHA LPD
          </th>
          <td mat-cell *matCellDef="let element" class="table__cell">
            {{ element.fechaLPD ? (element.fechaLPD | date: "dd/MM/yyyy") : "---" }}
          </td>
        </ng-container> -->

        <ng-container matColumnDef="actions" stickyEnd>
          <th mat-header-cell *matHeaderCellDef class="table__head">
            Acciones
          </th>
          <td mat-cell *matCellDef="let element; let i = index">
            <ng-container>
              <mat-menu #rawMenu="matMenu">
                <button
                  class="w3-small"
                  mat-menu-item
                  (click)="deleteDialog(element)"
                >
                  <mat-icon>delete</mat-icon>
                  Borrar
                </button>
              </mat-menu>

              <button mat-icon-button [matMenuTriggerFor]="rawMenu">
                <mat-icon>more_vert</mat-icon>
              </button>
            </ng-container>
          </td>
        </ng-container>

        <tr
          mat-header-row
          *matHeaderRowDef="budgetsDailyEntriesDisplayedColumns"
        ></tr>
        <tr
          mat-row
          *matRowDef="let row; columns: budgetsDailyEntriesDisplayedColumns"
        ></tr>
      </table>
    </div>
    <!-- <mat-paginator
      #budgetsDailyEntriesPaginator
      class="ms-paginator"
      [pageSizeOptions]="[5, 10, 20]"
      showFirstLastButtons
    >
    </mat-paginator> -->
  </div>

  <div class="footer">
    <button
      type="file"
      aria-label="add"
      mat-button
      class="footer__btn-close"
      mat-dialog-close
      (click)="cancelUploadDataToFirestore()"
      [disabled]="!budgetsDailyEntriesDataSource.data.length"
    >
      Cerrar
    </button>
    <button
      type="file"
      aria-label="add"
      mat-button
      class="footer__btn-save"
      (click)="uploadDataToFirestore()"
      [disabled]="!budgetsDailyEntriesDataSource.data.length"
    >
      Enviar
    </button>
  </div>
</div>
